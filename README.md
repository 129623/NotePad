# NotePad å¢å¼ºç‰ˆç¬”è®°åº”ç”¨

![License](https://img.shields.io/badge/license-Apache--2.0-blue.svg)
![Platform](https://img.shields.io/badge/platform-Android-green.svg)
![Language](https://img.shields.io/badge/language-Java-orange.svg)

å¢å¼ºç‰ˆçš„Androidè®°äº‹æœ¬åº”ç”¨ç¨‹åºï¼Œåœ¨å®˜æ–¹NotePadç¤ºä¾‹åŸºç¡€ä¸Šè¿›è¡Œäº†å¤§é‡åŠŸèƒ½æ‰©å±•å’Œç•Œé¢ä¼˜åŒ–ã€‚

## ğŸ“‹ ç›®å½•
- [NotePad å¢å¼ºç‰ˆç¬”è®°åº”ç”¨](#notepad-å¢å¼ºç‰ˆç¬”è®°åº”ç”¨)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
  - [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
    - [åŸºç¡€åŠŸèƒ½](#åŸºç¡€åŠŸèƒ½)
      - [1. æ—¶é—´æˆ³åŠŸèƒ½](#1-æ—¶é—´æˆ³åŠŸèƒ½)
        - [åŠŸèƒ½ä»‹ç»](#åŠŸèƒ½ä»‹ç»)
        - [å®ç°æ€è·¯](#å®ç°æ€è·¯)
        - [æ ¸å¿ƒä»£ç ](#æ ¸å¿ƒä»£ç )
        - [ç•Œé¢å±•ç¤º](#ç•Œé¢å±•ç¤º)
      - [2. æœç´¢åŠŸèƒ½](#2-æœç´¢åŠŸèƒ½)
        - [åŠŸèƒ½ä»‹ç»](#åŠŸèƒ½ä»‹ç»-1)
        - [å®ç°æ€è·¯](#å®ç°æ€è·¯-1)
        - [æ ¸å¿ƒä»£ç ](#æ ¸å¿ƒä»£ç -1)
        - [ç•Œé¢å±•ç¤º](#ç•Œé¢å±•ç¤º-1)
    - [æ‰©å±•åŠŸèƒ½](#æ‰©å±•åŠŸèƒ½)
      - [1. ç•Œé¢ç¾åŒ–](#1-ç•Œé¢ç¾åŒ–)
        - [åŠŸèƒ½ä»‹ç»](#åŠŸèƒ½ä»‹ç»-2)
        - [å®ç°æ€è·¯](#å®ç°æ€è·¯-2)
        - [æ ¸å¿ƒä»£ç ](#æ ¸å¿ƒä»£ç -2)
        - [ç•Œé¢å±•ç¤º](#ç•Œé¢å±•ç¤º-2)
      - [2. å¾…åŠäº‹é¡¹åŠŸèƒ½](#2-å¾…åŠäº‹é¡¹åŠŸèƒ½)
        - [åŠŸèƒ½ä»‹ç»](#åŠŸèƒ½ä»‹ç»-3)
        - [å®ç°æ€è·¯](#å®ç°æ€è·¯-3)
        - [æ ¸å¿ƒä»£ç ](#æ ¸å¿ƒä»£ç -3)
        - [ç•Œé¢å±•ç¤º](#ç•Œé¢å±•ç¤º-3)
      - [3. åˆ†ç»„åŠŸèƒ½](#3-åˆ†ç»„åŠŸèƒ½)
        - [åŠŸèƒ½ä»‹ç»](#åŠŸèƒ½ä»‹ç»-4)
        - [å®ç°æ€è·¯](#å®ç°æ€è·¯-4)
        - [æ ¸å¿ƒä»£ç ](#æ ¸å¿ƒä»£ç -4)
        - [ç•Œé¢å±•ç¤º](#ç•Œé¢å±•ç¤º-4)
  - [å®‰è£…ä¸ä½¿ç”¨](#å®‰è£…ä¸ä½¿ç”¨)
    - [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
    - [æ„å»ºæ­¥éª¤](#æ„å»ºæ­¥éª¤)
    - [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜)
  - [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)

## é¡¹ç›®ç®€ä»‹

NotePadå¢å¼ºç‰ˆæ˜¯ä¸€æ¬¾åŸºäºAndroidåŸç”ŸAPIå¼€å‘çš„ç¬”è®°ç®¡ç†åº”ç”¨ç¨‹åºã€‚å®ƒç»§æ‰¿äº†å®˜æ–¹NotePadç¤ºä¾‹çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†æ—¶é—´æˆ³è®°å½•ã€æœç´¢åŠŸèƒ½ã€ç•Œé¢ç¾åŒ–ã€å¾…åŠäº‹é¡¹ç®¡ç†å’Œç¬”è®°åˆ†ç»„ç­‰å®ç”¨åŠŸèƒ½ã€‚è¯¥é¡¹ç›®ä¸ä»…å±•ç¤ºäº†Androidå¼€å‘çš„åŸºç¡€çŸ¥è¯†ï¼Œè¿˜ä½“ç°äº†ç°ä»£Androidåº”ç”¨çš„è®¾è®¡ç†å¿µå’Œæœ€ä½³å®è·µã€‚

## æ ¸å¿ƒåŠŸèƒ½

### åŸºç¡€åŠŸèƒ½

#### 1. æ—¶é—´æˆ³åŠŸèƒ½

##### åŠŸèƒ½ä»‹ç»
- è‡ªåŠ¨è®°å½•æ¯æ¡ç¬”è®°çš„åˆ›å»ºæ—¶é—´å’Œæœ€åä¿®æ”¹æ—¶é—´
- åœ¨ç¬”è®°åˆ—è¡¨ä¸­æ¸…æ™°æ˜¾ç¤ºä¿®æ”¹æ—¶é—´ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿè¯†åˆ«æœ€è¿‘ç¼–è¾‘çš„ç¬”è®°
- æ—¶é—´æ ¼å¼ç»Ÿä¸€ä¸ºï¼š`yyyy-MM-dd HH:mm`

##### å®ç°æ€è·¯
æ—¶é—´æˆ³åŠŸèƒ½é€šè¿‡åœ¨æ•°æ®åº“ä¸­å­˜å‚¨åˆ›å»ºå’Œä¿®æ”¹æ—¶é—´æ¥å®ç°ã€‚æ¯å½“åˆ›å»ºæˆ–ä¿®æ”¹ç¬”è®°æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨æ›´æ–°æ—¶é—´æˆ³ã€‚åœ¨æ˜¾ç¤ºæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨SimpleDateFormatå°†æ—¶é—´æˆ³æ ¼å¼åŒ–ä¸ºæ˜“è¯»çš„æ ¼å¼ã€‚

åœ¨[NoteEditor](app/src/main/java/com/example/android/notepad/NoteEditor.java)ä¸­ï¼Œæ¯æ¬¡ä¿å­˜ç¬”è®°æ—¶éƒ½ä¼šè°ƒç”¨[updateNote](app/src/main/java/com/example/android/notepad/NoteEditor.java)æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè‡ªåŠ¨å°†å½“å‰ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸ºä¿®æ”¹æ—¶é—´ã€‚åœ¨[NotesFragment](app/src/main/java/com/example/android/notepad/NotesFragment.java)ä¸­ï¼Œä½¿ç”¨[SimpleDateFormat](https://developer.android.com/reference/java/text/SimpleDateFormat)å°†æ—¶é—´æˆ³æ ¼å¼åŒ–ä¸ºç”¨æˆ·å‹å¥½çš„æ ¼å¼æ˜¾ç¤ºã€‚

##### æ ¸å¿ƒä»£ç 
````java
// åœ¨NoteEditor.javaä¸­çš„updateNoteæ–¹æ³•ä¸­è‡ªåŠ¨æ›´æ–°ä¿®æ”¹æ—¶é—´
private final void updateNote(String title, String text, String category) {
    // Sets up a map to contain values to be updated in the provider.
    ContentValues values = new ContentValues();
    // Always update the modification date when saving
    values.put(NotePad.Notes.COLUMN_NAME_MODIFICATION_DATE, System.currentTimeMillis());
    
    // å…¶ä»–æ›´æ–°é€»è¾‘...
}

// åœ¨NotesFragment.javaä¸­æ ¼å¼åŒ–æ˜¾ç¤ºæ—¶é—´
Note note = (Note) getChild(groupPosition, childPosition);
title.setText(note.title);
date.setText(new SimpleDateFormat("yyyy-MM-dd HH:mm").format(new Date(note.modificationDate)));
````

##### ç•Œé¢å±•ç¤º
![æ—¶é—´æˆ³åŠŸèƒ½](readmePic/noteMainUI1.png)

#### 2. æœç´¢åŠŸèƒ½

##### åŠŸèƒ½ä»‹ç»
- æ”¯æŒå¯¹ç¬”è®°æ ‡é¢˜å’Œå†…å®¹è¿›è¡Œå®æ—¶æœç´¢
- æœç´¢ç»“æœå³æ—¶æ˜¾ç¤ºï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒ
- æœç´¢è¿‡ç¨‹ä¸­ä¿æŒç¬”è®°åˆ†ç»„ç»“æ„ï¼Œä¾¿äºå®šä½ç‰¹å®šç¬”è®°
- æ”¯æŒåœ¨æœç´¢ç»“æœä¸­è¿›ä¸€æ­¥æŒ‰åˆ†ç±»ç­›é€‰
- æœç´¢åŠŸèƒ½æ’é™¤å¾…åŠäº‹é¡¹ï¼Œä¸“æ³¨äºæ™®é€šç¬”è®°å†…å®¹

##### å®ç°æ€è·¯
æœç´¢åŠŸèƒ½å®ç°åœ¨[NotesFragment](app/src/main/java/com/example/android/notepad/NotesFragment.java)ä¸­ï¼Œé€šè¿‡å¯¹è¾“å…¥æ–‡æœ¬çš„ç›‘å¬å®æ—¶è¿‡æ»¤ç¬”è®°åˆ—è¡¨ã€‚æˆ‘ä»¬ä½¿ç”¨TextWatcherç›‘å¬æœç´¢æ¡†çš„å˜åŒ–ï¼Œå¹¶åœ¨é€‚é…å™¨ä¸­å®ç°è¿‡æ»¤é€»è¾‘ã€‚å½“æ£€æµ‹åˆ°æœç´¢å…³é”®å­—æ—¶ï¼Œç³»ç»Ÿä¼šæ„é€ SQLæŸ¥è¯¢è¯­å¥åŒæ—¶åœ¨ç¬”è®°æ ‡é¢˜([COLUMN_NAME_TITLE](app/src/main/java/com/example/android/notepad/NotePad.java))å’Œå†…å®¹([COLUMN_NAME_NOTE](app/src/main/java/com/example/android/notepad/NotePad.java))å­—æ®µä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…æœç´¢ã€‚

åœ¨[NotesExpandableListAdapter](app/src/main/java/com/example/android/notepad/NotesFragment.java)ä¸­å®ç°äº†[filter](app/src/main/java/com/example/android/notepad/NotesFragment.java)æ–¹æ³•æ¥å¤„ç†æœç´¢é€»è¾‘ã€‚å½“æœ‰æœç´¢å…³é”®è¯æ—¶ï¼Œä¼šæ„å»ºåŒ…å«LIKEæ¡ä»¶çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œå¹¶æ’é™¤å¾…åŠäº‹é¡¹ï¼ˆé€šè¿‡è¿‡æ»¤categoryä¸ºtodo_pendingå’Œtodo_completedçš„è®°å½•ï¼‰ã€‚

##### æ ¸å¿ƒä»£ç 
````java
// åœ¨NotesFragment.onCreateViewä¸­è®¾ç½®æ–‡æœ¬ç›‘å¬å™¨
mSearchEditText.addTextChangedListener(new TextWatcher() {
    @Override
    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
    }

    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        mAdapter.filter(s.toString());
    }

    @Override
    public void afterTextChanged(Editable s) {
    }
});

// åœ¨NotesExpandableListAdapterä¸­çš„filteræ–¹æ³•å®ç°æœç´¢é€»è¾‘
public void filter(String query) {
    mQuery = query;
    refresh();
}

// åœ¨refreshæ–¹æ³•ä¸­å¤„ç†æœç´¢é€»è¾‘
if (mQuery != null && mQuery.length() > 0) {
    // Build selection criteria for all notes with search filter, excluding todo items
    String todoFilter = " AND " + NotePad.Notes.COLUMN_NAME_CATEGORY + " NOT IN ('todo_pending', 'todo_completed')";
    String selection = "(" + NotePad.Notes.COLUMN_NAME_TITLE + " LIKE ? OR " + NotePad.Notes.COLUMN_NAME_NOTE + " LIKE ?)" + todoFilter;
    String[] selectionArgs = new String[]{"%" + mQuery + "%", "%" + mQuery + "%"};
    
    Cursor noteCursor = mContext.getContentResolver().query(
            NotePad.Notes.CONTENT_URI,
            SEARCH_NOTE_PROJECTION,
            selection,
            selectionArgs,
            NotePad.Notes.COLUMN_NAME_MODIFICATION_DATE + " DESC");
}
````

##### ç•Œé¢å±•ç¤º
![æœç´¢åŠŸèƒ½æ¼”ç¤º](readmePic/noteSearch.png)

### æ‰©å±•åŠŸèƒ½

#### 1. ç•Œé¢ç¾åŒ–

##### åŠŸèƒ½ä»‹ç»
- é‡‡ç”¨Material Designè®¾è®¡é£æ ¼ï¼Œæå‡è§†è§‰ä½“éªŒ
- ä½¿ç”¨æµ®åŠ¨æ“ä½œæŒ‰é’®(FAB)æ›¿ä»£ä¼ ç»Ÿèœå•é¡¹ï¼Œæé«˜æ“ä½œæ•ˆç‡
- ä¼˜åŒ–ç¬”è®°åˆ—è¡¨å±•ç¤ºæ•ˆæœï¼Œé‡‡ç”¨å¡ç‰‡å¼è®¾è®¡å’Œåœ†è§’è¾¹æ¡†
- å¼•å…¥ä¸»é¢˜è‰²å½©æ­é…ï¼Œä½¿ç•Œé¢æ›´åŠ ç¾è§‚ç°ä»£

##### å®ç°æ€è·¯
ç•Œé¢ç¾åŒ–ä¸»è¦ä½“ç°åœ¨ä½¿ç”¨Material Designç»„ä»¶å’Œè‡ªå®šä¹‰æ ·å¼ã€‚æˆ‘ä»¬æ›¿æ¢äº†ä¼ ç»Ÿçš„ActionBarèœå•é¡¹ï¼Œæ”¹ç”¨FloatingActionButtonä½œä¸ºä¸»è¦æ“ä½œæŒ‰é’®ï¼Œå¹¶ä¼˜åŒ–äº†åˆ—è¡¨é¡¹çš„è§†è§‰æ•ˆæœã€‚

é€šè¿‡åœ¨[NoteEditor](app/src/main/java/com/example/android/notepad/NoteEditor.java)ä¸­ä½¿ç”¨[FloatingActionButton](https://developer.android.com/reference/com/google/android/material/floatingactionbutton/FloatingActionButton)æ›¿ä»£ä¼ ç»Ÿçš„èœå•é¡¹ï¼Œæé«˜äº†ç”¨æˆ·çš„æ“ä½œæ•ˆç‡ã€‚åŒæ—¶ï¼Œé€šè¿‡è‡ªå®šä¹‰drawableèµ„æºæ–‡ä»¶å®ç°äº†åœ†è§’è¾¹æ¡†å’Œåˆ†ç»„èƒŒæ™¯æ•ˆæœã€‚

åœ¨å¸ƒå±€æ–‡ä»¶[note_editor.xml](app/src/main/res/layout/note_editor.xml)ä¸­ä½¿ç”¨CoordinatorLayoutä½œä¸ºæ ¹å¸ƒå±€ï¼Œé…åˆFloatingActionButtonå®ç°æ‚¬æµ®æŒ‰é’®æ•ˆæœã€‚é€šè¿‡è‡ªå®šä¹‰drawableèµ„æºå¦‚[rounded_corners.xml](app/src/main/res/drawable/rounded_corners.xml)å®ç°åœ†è§’å¡ç‰‡æ•ˆæœã€‚

##### æ ¸å¿ƒä»£ç 
```java
// åœ¨NoteEditor.javaä¸­ä½¿ç”¨FloatingActionButtonæ›¿ä»£ä¼ ç»Ÿèœå•
mFabSaveNote = findViewById(R.id.fab_save_note);
mFabSaveNote.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View v) {
        updateNote();
        setResult(RESULT_OK);
        finish();
    }
});
```

##### ç•Œé¢å±•ç¤º
![ç•Œé¢ç¾åŒ–](readmePic/noteEditor1.png)![ç•Œé¢ç¾åŒ–](readmePic/noteEditor2.png)

#### 2. å¾…åŠäº‹é¡¹åŠŸèƒ½

##### åŠŸèƒ½ä»‹ç»
- é›†æˆç‹¬ç«‹çš„å¾…åŠäº‹é¡¹ç®¡ç†æ¨¡å—
- æ”¯æŒæ ‡è®°å¾…åŠäº‹é¡¹ä¸ºå·²å®ŒæˆçŠ¶æ€
- å¾…åŠäº‹é¡¹æŒ‰çŠ¶æ€åˆ†ç»„æ˜¾ç¤ºï¼ˆæœªå®Œæˆ/å·²å®Œæˆï¼‰
- æä¾›ç›´è§‚çš„çŠ¶æ€å›¾æ ‡å’Œè§†è§‰åŒºåˆ†

##### å®ç°æ€è·¯
å¾…åŠäº‹é¡¹åŠŸèƒ½é€šè¿‡ç‰¹æ®Šçš„åˆ†ç±»æ ‡è¯†(todo_pending/todo_completed)å®ç°çŠ¶æ€ç®¡ç†ã€‚æˆ‘ä»¬åœ¨[TodoFragment](app/src/main/java/com/example/android/notepad/TodoFragment.java)ä¸­å®ç°äº†ExpandableListViewæ¥å±•ç¤ºåˆ†ç»„ï¼Œå¹¶é€šè¿‡åˆ‡æ¢åˆ†ç±»æ ‡è¯†æ¥æ”¹å˜å¾…åŠäº‹é¡¹çŠ¶æ€ã€‚

å…·ä½“å®ç°ä¸Šï¼Œå¾…åŠäº‹é¡¹ä½¿ç”¨ç‰¹æ®Šçš„categoryå€¼æ¥æ ‡è¯†å…¶çŠ¶æ€ï¼š
- [todo_pending](app/src/main/java/com/example/android/notepad/TodoFragment.java)è¡¨ç¤ºæœªå®Œæˆçš„å¾…åŠäº‹é¡¹
- [todo_completed](app/src/main/java/com/example/android/notepad/TodoFragment.java)è¡¨ç¤ºå·²å®Œæˆçš„å¾…åŠäº‹é¡¹

é€šè¿‡ç‚¹å‡»å¾…åŠäº‹é¡¹å¯ä»¥åˆ‡æ¢å…¶çŠ¶æ€ï¼Œè¿™åœ¨[toggleTodoStatus](app/src/main/java/com/example/android/notepad/TodoFragment.java)æ–¹æ³•ä¸­å®ç°ã€‚åŒæ—¶ä½¿ç”¨ä¸åŒçš„å›¾æ ‡å’Œè§†è§‰æ•ˆæœæ¥åŒºåˆ†ä¸åŒçŠ¶æ€çš„å¾…åŠäº‹é¡¹ã€‚

##### æ ¸å¿ƒä»£ç 
```java
// åœ¨TodoFragment.javaä¸­åˆ‡æ¢å¾…åŠäº‹é¡¹çŠ¶æ€
private void toggleTodoStatus(long todoId) {
    // è·å–å¾…åŠäº‹é¡¹å½“å‰çŠ¶æ€
    Cursor cursor = getActivity().getContentResolver().query(
            Uri.withAppendedPath(NotePad.Notes.CONTENT_ID_URI_BASE, String.valueOf(todoId)),
            new String[]{NotePad.Notes.COLUMN_NAME_CATEGORY},
            null,
            null,
            null
    );
    
    if (cursor != null && cursor.moveToFirst()) {
        int categoryIndex = cursor.getColumnIndex(NotePad.Notes.COLUMN_NAME_CATEGORY);
        String currentCategory = cursor.getString(categoryIndex);
        cursor.close();
        
        // åˆ‡æ¢çŠ¶æ€
        String newCategory;
        if (TODO_STATUS_PENDING.equals(currentCategory)) {
            newCategory = TODO_STATUS_COMPLETED; // æ ‡è®°ä¸ºå·²å®Œæˆ
        } else {
            newCategory = TODO_STATUS_PENDING; // æ ‡è®°ä¸ºæœªå®Œæˆ
        }
        
        // æ›´æ–°æ•°æ®åº“
        ContentValues values = new ContentValues();
        values.put(NotePad.Notes.COLUMN_NAME_CATEGORY, newCategory);
        values.put(NotePad.Notes.COLUMN_NAME_MODIFICATION_DATE, System.currentTimeMillis());
        
        getActivity().getContentResolver().update(
                Uri.withAppendedPath(NotePad.Notes.CONTENT_ID_URI_BASE, String.valueOf(todoId)),
                values,
                null,
                null
        );
        
        // åˆ·æ–°åˆ—è¡¨
        refreshTodos();
    }
}
```

##### ç•Œé¢å±•ç¤º
![å¾…åŠäº‹é¡¹åŠŸèƒ½](readmePic/todoMainUI.png)![æ·»åŠ å¾…åŠäº‹é¡¹](readmePic/todoAdd.png)

#### 3. åˆ†ç»„åŠŸèƒ½

##### åŠŸèƒ½ä»‹ç»
- æ”¯æŒä¸ºç¬”è®°æ·»åŠ è‡ªå®šä¹‰åˆ†ç»„æ ‡ç­¾
- è‡ªåŠ¨å°†ç›¸åŒåˆ†ç»„çš„ç¬”è®°å½’ç±»æ˜¾ç¤º
- æä¾›åˆ†ç»„ç­›é€‰åŠŸèƒ½ï¼Œå¯æŒ‰ç‰¹å®šåˆ†ç»„æŸ¥çœ‹ç¬”è®°
- å¯¹æœªåˆ†ç»„çš„ç¬”è®°å•ç‹¬å½’ç±»ï¼Œä¿æŒç•Œé¢æ•´æ´

##### å®ç°æ€è·¯
åˆ†ç»„åŠŸèƒ½å…è®¸ç”¨æˆ·ä¸ºç¬”è®°åˆ†é…åˆ†ç±»æ ‡ç­¾ï¼Œå¹¶åœ¨ä¸»ç•Œé¢ä¸­æŒ‰åˆ†ç»„æ˜¾ç¤ºã€‚æˆ‘ä»¬ä½¿ç”¨ExpandableListViewå®ç°åˆ†ç»„å±•ç¤ºï¼Œå¹¶åœ¨ç¼–è¾‘ç•Œé¢æä¾›è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½æ¥å¸®åŠ©ç”¨æˆ·å¿«é€Ÿé€‰æ‹©å·²æœ‰åˆ†ç»„ã€‚

åœ¨[NoteEditor](app/src/main/java/com/example/android/notepad/NoteEditor.java)ä¸­ä½¿ç”¨[AutoCompleteTextView](https://developer.android.com/reference/android/widget/AutoCompleteTextView)å®ç°åˆ†ç»„åç§°çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œç”¨æˆ·è¾“å…¥æ—¶ä¼šæ˜¾ç¤ºåŒ¹é…çš„å†å²åˆ†ç»„åç§°ã€‚åœ¨[NotesFragment](app/src/main/java/com/example/android/notepad/NotesFragment.java)ä¸­é€šè¿‡æŸ¥è¯¢æ•°æ®åº“è·å–æ‰€æœ‰åˆ†ç»„ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨ExpandableListViewå±•ç¤ºåˆ†ç»„åŠå„ç»„ä¸‹çš„ç¬”è®°ã€‚

å¯¹äºæ²¡æœ‰æŒ‡å®šåˆ†ç»„çš„ç¬”è®°ï¼Œç»Ÿä¸€å½’ç±»åˆ°"æœªåˆ†ç»„"ç±»åˆ«ä¸‹æ˜¾ç¤ºï¼Œä¿è¯ç•Œé¢çš„ä¸€è‡´æ€§å’Œæ•´æ´æ€§ã€‚

##### æ ¸å¿ƒä»£ç 
````java
// åœ¨NoteEditor.javaä¸­å®ç°åˆ†ç»„è‡ªåŠ¨è¡¥å…¨
private void initCategoryAutoComplete() {
    mCategoryList = getCategoryList();
    mCategoryAdapter = new ArrayAdapter<>(this, android.R.layout.simple_dropdown_item_1line, mCategoryList);
    mCategoryAutoComplete.setAdapter(mCategoryAdapter);
    mCategoryAutoComplete.setThreshold(1); // è¾“å…¥1ä¸ªå­—ç¬¦åå¼€å§‹åŒ¹é…
    
    // ç›‘å¬æ–‡æœ¬å˜åŒ–ï¼ŒåŒæ­¥æ›´æ–°åº•éƒ¨æ˜¾ç¤º
    mCategoryAutoComplete.setOnItemClickListener((parent, view, position, id) -> {
        mCurrentCategory = mCategoryList.get(position);
        mCategoryAutoComplete.setText(mCurrentCategory);
    });
    
    // ç›‘å¬è¾“å…¥æ¡†ç‚¹å‡»äº‹ä»¶ï¼Œç¡®ä¿ç‚¹å‡»æ—¶æ˜¾ç¤ºæ‰€æœ‰é€‰é¡¹
    mCategoryAutoComplete.setOnClickListener(v -> {
        mCategoryAutoComplete.showDropDown();
    });
}

// åœ¨NotesFragment.javaä¸­å®ç°åˆ†ç»„æ˜¾ç¤ºé€»è¾‘
// Normal mode - get categories first, then notes for each category
Cursor categoryCursor = mContext.getContentResolver().query(
        NotePad.Notes.CATEGORIES_URI,
        CATEGORY_PROJECTION,
        categorySelection,
        categorySelectionArgs,
        null);

// æ„å»ºåˆ†ç»„æ•°æ®ç»“æ„
HashMap<String, List<Note>> tempNotes = new HashMap<>();
if (noteCursor != null) {
    while (noteCursor.moveToNext()) {
        long id = noteCursor.getLong(0);
        String title = noteCursor.getString(1);
        long modDate = noteCursor.getLong(2);
        String category = noteCursor.getString(3); // category column

        String displayCategory = category;
        if (category == null || category.isEmpty()) {
            displayCategory = "æœªåˆ†ç»„";
        }

        if (!tempNotes.containsKey(displayCategory)) {
            tempNotes.put(displayCategory, new ArrayList<Note>());
        }
        tempNotes.get(displayCategory).add(new Note(id, title, modDate));
    }
}
````

##### ç•Œé¢å±•ç¤º
![åˆ†ç»„åŠŸèƒ½](readmePic/noteMainUI1.png)![åˆ†ç»„åŠŸèƒ½](readmePic/noteMainUI2.png)

## å®‰è£…ä¸ä½¿ç”¨

### ç³»ç»Ÿè¦æ±‚
- Android 5.0 (API level 21) æˆ–æ›´é«˜ç‰ˆæœ¬
- Android Studio 4.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆç”¨äºæ„å»ºé¡¹ç›®ï¼‰

### æ„å»ºæ­¥éª¤
1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®æºç 
2. ä½¿ç”¨Android Studioæ‰“å¼€é¡¹ç›®
3. ç­‰å¾…GradleåŒæ­¥å®Œæˆ
4. è¿æ¥Androidè®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
5. ç‚¹å‡»RunæŒ‰é’®ç¼–è¯‘å¹¶å®‰è£…åº”ç”¨

### ä½¿ç”¨è¯´æ˜
1. å¯åŠ¨åº”ç”¨åï¼Œé»˜è®¤è¿›å…¥ç¬”è®°æµè§ˆç•Œé¢
2. ç‚¹å‡»å³ä¸‹è§’"+"æŒ‰é’®åˆ›å»ºæ–°ç¬”è®°æˆ–å¾…åŠäº‹é¡¹
3. ç‚¹å‡»ä»»æ„ç¬”è®°è¿›å…¥ç¼–è¾‘ç•Œé¢
4. é•¿æŒ‰ç¬”è®°å¯å¼¹å‡ºä¸Šä¸‹æ–‡èœå•è¿›è¡Œåˆ é™¤ç­‰æ“ä½œ
5. ä½¿ç”¨é¡¶éƒ¨æœç´¢æ¡†æŸ¥æ‰¾ç¬”è®°
6. åˆ‡æ¢è‡³"To-Do"æ ‡ç­¾é¡µç®¡ç†å¾…åŠäº‹é¡¹

## é¡¹ç›®ç»“æ„

```
app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/example/android/notepad/
â”‚   â”‚   â”‚   â”œâ”€â”€ LinedEditText.java        // å¸¦è¡Œçº¿çš„ç¼–è¾‘æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ NoteEditor.java           // ç¬”è®°ç¼–è¾‘å™¨Activity
â”‚   â”‚   â”‚   â”œâ”€â”€ NotePad.java              // æ•°æ®å¥‘çº¦å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ NotePadProvider.java      // æ•°æ®æä¾›è€…
â”‚   â”‚   â”‚   â”œâ”€â”€ NotesFragment.java        // ç¬”è®°åˆ—è¡¨Fragment
â”‚   â”‚   â”‚   â”œâ”€â”€ NotesList.java            // ä¸»Activityå®¹å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ TodoFragment.java         // å¾…åŠäº‹é¡¹Fragment
â”‚   â”‚   â”‚   â””â”€â”€ ViewPagerAdapter.java     // è§†å›¾é¡µé¢é€‚é…å™¨
â”‚   â”‚   â””â”€â”€ res/
â”‚   â”‚       â”œâ”€â”€ layout/                   // å¸ƒå±€æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ menu/                     // èœå•èµ„æº
â”‚   â”‚       â”œâ”€â”€ values/                   // å­—ç¬¦ä¸²ã€æ ·å¼ç­‰èµ„æº
â”‚   â”‚       â””â”€â”€ drawable/                 // å›¾å½¢èµ„æº
â”‚   â””â”€â”€ AndroidManifest.xml               // åº”ç”¨é…ç½®æ–‡ä»¶
â””â”€â”€ build.gradle                          // æ„å»ºé…ç½®
```

---

**NotePadå¢å¼ºç‰ˆ** - åŠŸèƒ½å¼ºå¤§ã€ç•Œé¢ç¾è§‚çš„Androidç¬”è®°åº”ç”¨